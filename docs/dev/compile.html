<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<!-- $Id$ -->

<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta name="generator" content=
  "HTML Tidy for Mac OS X (vers 31 October 2006 - Apple Inc. build 15.3), see www.w3.org" />

  <title>JSwat - How to Compile, Run, and Debug JSwat</title>
  <link href="../style.css" rel="stylesheet" type="text/css" />
</head>

<body>
  <h2>How to Compile, Run, and Debug JSwat</h2>

  <h3>Build Environment</h3>

  <p>Before you can build JSwat in any form, you must set up the
  <a href="buildenv.html">build environment</a>. Once that is
  completed, you can continue with building JSwat.</p>

  <h3>Console vs. NetBeans</h3>

  <p>JSwat has two interfaces, a console mode, and a graphical mode
  that is based on the NetBeans Platform. To build the console version,
  simply build the <code>cli</code> Java project with the Ant command
  shown below.</p>
  <pre>
ant -f cli/build.xml clean jar
</pre>

  <p>To run the console interface, start it like so:</p>
  <pre>
java -jar cli/dist/com-bluemarsh-jswat-console.jar
</pre>

  <p>To build the NetBeans based application, continue reading
  below.</p>

  <h3>Installing Required Software</h3>

  <h4>NetBeans IDE</h4>

  <p>The graphical JSwat interface is based on the NetBeans Platform
  6.8, and utilizes some of the modules provided in the NetBeans IDE.
  Thus, to build this interface you will need to install the <a href=
  "http://www.netbeans.org/features/ide/">NetBeans IDE</a> version 6.8.
  Developing JSwat within the NetBeans IDE is highly recommended, as it
  makes many of the mundane development tasks much easier.</p>

  <p>After installing NetBeans, be sure to update the installation by
  opening the <strong>Tools</strong> menu, choosing
  <strong>Plugins</strong>, and selecting the <strong>Updates</strong>
  tab. If there are any updates avaiable, apply them. JSwat is
  typically built using the latest available versions of NetBeans
  modules, so your build environment should be up-to-date to build
  JSwat.</p>

  <p>You may also want to download the NetBeans IDE source code and API
  documentation, which can be found at the NetBeans site.</p>

  <h3>Building JSwat</h3>

  <p>Once NetBeans is installed you are ready to build JSwat. Prior to
  building JSwat for the first time, it is necessary to start the
  NetBeans IDE and open the JSwat module suite project. This will
  create the necessary build properties files, allowing the application
  to be built from the command-line. Of course, once the IDE is started
  and the projects opened, you may as well build from within the IDE.
  Simply right-click on the module suite project and select
  <strong>Clean and Build</strong> followed by <strong>Run</strong> to
  build and run JSwat.</p>

  <p>To clean, build, and run the application from the command-line,
  invoke Ant like so:</p>
  <pre>
ant -f suite/build.xml clean build run
</pre>

  <p>You should soon see the JSwat splash screen followed by the main
  window.</p>

  <h3>Debugging JSwat</h3>

  <p>Select the <strong>Debug Main Project</strong> menu item from the
  <strong>Run</strong> menu. The application will start in debug mode
  and the IDE debugger will be connected to it automatically.</p>

  <h4>Outside of the IDE</h4>

  <p>To debug JSwat outside of the NetBeans IDE (e.g. debug JSwat with
  JSwat itself), try the following. First, start your debugger that
  will be used to debug JSwat. You can use JSwat itself, but it must be
  started with a different userdir, like so:</p>
  <pre>
ant -Dtest.user.dir=/tmp/jswatdir run
</pre>

  <p>Next, you need to start JSwat in debug mode, which is done like
  so:</p>
  <pre>
ant -Drun.args=&quot;-J-agentlib:jdwp=transport=dt_socket,suspend=n,server=y,address=6868&quot; run
</pre>

  <p>You can choose a different port, if needed. Just make a note of it
  since you need to enter this value into the debugger when attaching
  to JSwat. JSwat is now running with the JPDA debugging mode enabled.
  You can attach the debugger to the JSwat process and debug as
  usual.</p>

  <h3>Using Alternate NetBeans IDE</h3>

  <p>If you wish to develop JSwat using a version of the NetBeans IDE
  other than the one required to build JSwat, you can do so by
  following a couple of basic steps. Note that you must still have the
  appropriate version installed, but you can run a different version
  for editing the JSwat source code.</p>

  <ol>
    <li>Define a NetBeans Platform (via <strong>Tools</strong> menu)
    that points to the NetBeans 6.8 installation, giving it the name
    <em>NetBeans 6.8</em>.</li>

    <li>Add the following line to the
    <code>nbproject/private/platform-private.properties</code> file:
      <pre>
nbplatform.active=NetBeans_6.8
</pre>
    </li>

    <li>Clean and build the project to use the active platform.</li>
  </ol>

  <h3>Using Alternate Java Version</h3>

  <p>If you wish to develop JSwat using a version of the Java Platform
  other than SE 6, you can do so by following a few basic steps. Note
  that this is most likely only necessary if your default JDK is
  different than the one needed to build and run JSwat.</p>

  <ol>
    <li>Define a Java Platform (via <strong>Tools</strong> menu) that
    points to the Java SE 6 installation, giving it the name <em>Java
    1.6</em>.</li>

    <li>Add the following line to the
    <code>nbproject/private/platform-private.properties</code> file:
      <pre>
nbjdk.active=JDK_1.6
</pre>
    </li>
  </ol>
</body>
</html>
